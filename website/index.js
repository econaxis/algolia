

var words = [
  {"text":"Performing Arts","c":"5","count":"8"},{"text":"Aviation","c":"10","count":"13"},{"text":"Europe","c":"16","count":"19"},{"text":"Biotechnology","c":"15","count":"18"},{"text":"Artificial Intelligence","c":"28","count":"31"},{"text":"Health","c":"11","count":"14"},{"text":"Breaking News","c":"15","count":"18"},{"text":"Brexit","c":"35","count":"38"},{"text":"Foreign Affairs","c":"23","count":"26"},{"text":"Statistics","c":"17","count":"20"},{"text":"Obituaries","c":"28","count":"31"},{"text":"Health Informatics","c":"11","count":"14"},{"text":"Cars","c":"21","count":"24"},{"text":"Radio","c":"9","count":"12"},{"text":"Aviation","c":"21","count":"24"},{"text":"Multicultural Press","c":"20","count":"23"},{"text":"Health","c":"19","count":"22"},{"text":"Covid-19","c":"32","count":"35"},{"text":"Beauty & Cosmetics","c":"24","count":"27"},{"text":"World","c":"29","count":"32"},{"text":"People","c":"19","count":"22"},{"text":"Psychology & Psychotherapy","c":"10","count":"13"},{"text":"Robotics & Automation","c":"16","count":"19"},{"text":"Fashion","c":"23","count":"26"},{"text":"South America","c":"26","count":"29"},{"text":"World","c":"20","count":"23"},{"text":"Engineering","c":"24","count":"27"},{"text":"Fashion","c":"12","count":"15"},{"text":"Accounting","c":"13","count":"16"},{"text":"Donald Trump","c":"30","count":"33"},{"text":"Europe","c":"21","count":"24"},{"text":"Agriculture","c":"6","count":"9"},{"text":"Statistics","c":"17","count":"20"},{"text":"Engineering","c":"24","count":"27"},{"text":"Equity","c":"18","count":"21"},{"text":"Breaking News","c":"22","count":"25"},{"text":"Weather","c":"16","count":"19"},{"text":"Government","c":"9","count":"12"},{"text":"Olympics","c":"19","count":"22"},{"text":"Careers","c":"14","count":"17"},{"text":"Workplace Relations","c":"18","count":"21"},{"text":"Agriculture","c":"24","count":"27"},{"text":"Research & Development","c":"14","count":"17"},{"text":"Health Informatics","c":"17","count":"20"},{"text":"Foreign Affairs","c":"29","count":"32"},{"text":"Workplace Relations","c":"17","count":"20"},{"text":"Innovation","c":"10","count":"13"},{"text":"Entrepreneurship","c":"18","count":"21"},{"text":"Beauty & Cosmetics","c":"19","count":"22"},{"text":"Politics","c":"12","count":"15"},{"text":"Opinion","c":"17","count":"20"},{"text":"Engineering","c":"9","count":"12"},{"text":"Performing Arts","c":"23","count":"26"},{"text":"Breaking News","c":"17","count":"20"},{"text":"Books & Literature","c":"6","count":"9"},{"text":"Multicultural Press","c":"11","count":"14"},{"text":"Performing Arts","c":"8","count":"11"},{"text":"Elections","c":"25","count":"28"},{"text":"Photography","c":"10","count":"13"},{"text":"Olympics","c":"16","count":"19"},{"text":"Asia","c":"9","count":"12"},{"text":"Business","c":"20","count":"23"},{"text":"Health","c":"21","count":"24"},{"text":"Accounting","c":"21","count":"24"},{"text":"Beauty & Cosmetics","c":"8","count":"11"},{"text":"Diversity","c":"20","count":"23"},{"text":"Arts","c":"24","count":"27"},{"text":"Stock Market","c":"21","count":"24"},{"text":"Radio","c":"7","count":"10"},{"text":"Regional Tourism","c":"21","count":"24"},{"text":"Trade War","c":"17","count":"20"},{"text":"Entrepreneurship","c":"21","count":"24"},{"text":"Agriculture","c":"22","count":"25"},{"text":"Performing Arts","c":"14","count":"17"},{"text":"Kids & Teens","c":"14","count":"17"},{"text":"Breaking News","c":"23","count":"26"},{"text":"Olympics","c":"8","count":"11"},{"text":"Robotics & Automation","c":"18","count":"21"},{"text":"Workplace Relations","c":"8","count":"11"},{"text":"Australia","c":"12","count":"15"},{"text":"Biotechnology","c":"10","count":"13"},{"text":"Recruitment","c":"16","count":"19"},{"text":"Elections","c":"12","count":"15"},{"text":"Religion","c":"25","count":"28"},{"text":"Photography","c":"26","count":"29"},{"text":"Travel","c":"26","count":"29"},{"text":"Local","c":"9","count":"12"},{"text":"Criminal","c":"25","count":"28"},{"text":"Vaccine","c":"31","count":"34"},{"text":"Security","c":"21","count":"24"},{"text":"Arts","c":"9","count":"12"},{"text":"Sports","c":"10","count":"13"},{"text":"Stock Market","c":"20","count":"23"},{"text":"Finance","c":"20","count":"23"},{"text":"Recruitment","c":"10","count":"13"},{"text":"Kids & Teens","c":"17","count":"20"},{"text":"Innovation","c":"16","count":"19"},{"text":"Security","c":"10","count":"13"},{"text":"Security","c":"23","count":"26"},{"text":"Photography","c":"22","count":"25"},{"text":"Computer","c":"23","count":"26"},{"text":"Sports","c":"22","count":"25"},{"text":"Books & Literature","c":"17","count":"20"},{"text":"Diversity","c":"13","count":"16"},{"text":"North America","c":"27","count":"30"},{"text":"International","c":"16","count":"19"},{"text":"Business","c":"19","count":"22"},{"text":"Entertainment","c":"27","count":"30"},{"text":"Opinion","c":"20","count":"23"},{"text":"Equity","c":"13","count":"16"},{"text":"Lifestyle","c":"8","count":"11"},{"text":"Careers","c":"16","count":"19"},{"text":"Finance","c":"24","count":"27"},{"text":"Careers","c":"18","count":"21"},{"text":"Computer","c":"26","count":"29"},{"text":"Radio","c":"22","count":"25"},{"text":"Africa","c":"12","count":"15"},{"text":"Books & Literature","c":"14","count":"17"},{"text":"Criminal","c":"12","count":"15"},{"text":"World","c":"8","count":"11"},{"text":"Health Informatics","c":"8","count":"11"},{"text":"Books & Literature","c":"21","count":"24"},{"text":"Robotics & Automation","c":"15","count":"18"},{"text":"Performing Arts","c":"20","count":"23"},{"text":"Accounting","c":"15","count":"18"},{"text":"Weather","c":"23","count":"26"},{"text":"Equity","c":"9","count":"12"},{"text":"Recruitment","c":"10","count":"13"},{"text":"Cars","c":"10","count":"13"},{"text":"Multicultural Press","c":"7","count":"10"},{"text":"Innovation","c":"19","count":"22"},{"text":"Computer","c":"9","count":"12"},{"text":"People","c":"20","count":"23"},{"text":"Australia","c":"25","count":"28"},{"text":"Technology","c":"9","count":"12"},{"text":"Engineering","c":"9","count":"12"},{"text":"Statistics","c":"19","count":"22"},{"text":"Elections","c":"19","count":"22"},{"text":"Finance","c":"9","count":"12"},{"text":"Agriculture","c":"10","count":"13"},{"text":"Kids & Teens","c":"21","count":"24"},{"text":"Psychology & Psychotherapy","c":"24","count":"27"},{"text":"Foreign Affairs","c":"8","count":"11"},{"text":"Equity","c":"22","count":"25"},{"text":"Entrepreneurship","c":"16","count":"19"},{"text":"Science","c":"13","count":"16"},{"text":"Regional Tourism","c":"16","count":"19"},{"text":"Obituaries","c":"10","count":"13"},{"text":"Weather","c":"12","count":"15"},{"text":"Business","c":"11","count":"14"},{"text":"Diversity","c":"23","count":"26"},{"text":"Radio","c":"16","count":"19"},{"text":"Religion","c":"23","count":"26"},{"text":"Research & Development","c":"15","count":"18"},{"text":"Statistics","c":"15","count":"18"},{"text":"Olympics","c":"18","count":"21"},{"text":"Arts","c":"25","count":"28"},{"text":"Retail","c":"25","count":"28"},{"text":"Artificial Intelligence","c":"13","count":"16"},{"text":"Politics","c":"21","count":"24"},{"text":"International","c":"10","count":"13"},{"text":"Recruitment","c":"24","count":"27"},{"text":"Family","c":"22","count":"25"},{"text":"Government","c":"28","count":"31"},{"text":"Robotics & Automation","c":"13","count":"16"},{"text":"Regional Tourism","c":"17","count":"20"},{"text":"Retail","c":"9","count":"12"},{"text":"Trade War","c":"24","count":"27"},{"text":"Fashion","c":"24","count":"27"},{"text":"Regional Tourism","c":"8","count":"11"},{"text":"Religion","c":"11","count":"14"},{"text":"Europe","c":"9","count":"12"},{"text":"Research & Development","c":"9","count":"12"},{"text":"Business","c":"40","count":"43"},{"text":"Finance","c":"12","count":"15"},{"text":"Biotechnology","c":"16","count":"19"},{"text":"Brexit","c":"33","count":"36"},{"text":"Retail","c":"45","count":"48"},{"text":"Travel","c":"32","count":"35"},{"text":"Cars","c":"26","count":"29"},{"text":"Agriculture","c":"13","count":"16"},{"text":"Vaccine","c":"38","count":"41"},{"text":"World","c":"42","count":"45"},{"text":"Innovation","c":"42","count":"45"},{"text":"Cars","c":"33","count":"36"},{"text":"Local","c":"37","count":"40"},{"text":"Family","c":"10","count":"13"},{"text":"Australia","c":"9","count":"12"},{"text":"Africa","c":"25","count":"28"},{"text":"World","c":"12","count":"15"},{"text":"Books & Literature","c":"14","count":"17"},{"text":"Africa","c":"44","count":"47"},{"text":"North America","c":"35","count":"38"},{"text":"Artificial Intelligence","c":"24","count":"27"},{"text":"Culture","c":"12","count":"15"},{"text":"Europe","c":"36","count":"39"},{"text":"Stock Market","c":"35","count":"38"},{"text":"Politics","c":"43","count":"46"},{"text":"Photography","c":"34","count":"37"},{"text":"Science","c":"42","count":"45"},{"text":"International","c":"8","count":"11"},{"text":"Kids & Teens","c":"13","count":"16"},{"text":"Obituaries","c":"32","count":"35"},{"text":"Trade War","c":"12","count":"15"},{"text":"Health","c":"39","count":"42"},{"text":"Covid-19","c":"38","count":"41"},{"text":"Artificial Intelligence","c":"33","count":"36"},{"text":"Asia","c":"35","count":"38"},{"text":"Lifestyle","c":"25","count":"28"},{"text":"North America","c":"10","count":"13"},{"text":"Africa","c":"11","count":"14"},{"text":"Local","c":"29","count":"32"},{"text":"Lifestyle","c":"36","count":"39"},{"text":"Culture","c":"26","count":"29"},{"text":"Stock Market","c":"32","count":"35"},{"text":"Family","c":"20","count":"23"},{"text":"Business","c":"8","count":"11"},{"text":"Aviation","c":"22","count":"25"},{"text":"Family","c":"42","count":"45"},{"text":"Security","c":"13","count":"16"},{"text":"North America","c":"8","count":"11"},{"text":"Biotechnology","c":"14","count":"17"},{"text":"Africa","c":"23","count":"26"},{"text":"Criminal","c":"33","count":"36"},{"text":"Obituaries","c":"13","count":"16"},{"text":"Weather","c":"45","count":"48"},{"text":"Health & Medicine","c":"40","count":"43"},{"text":"Asia","c":"42","count":"45"},{"text":"Family","c":"39","count":"42"},{"text":"Technology","c":"24","count":"27"},{"text":"Accounting","c":"22","count":"25"},{"text":"Research & Development","c":"17","count":"20"},{"text":"Culture","c":"42","count":"45"},{"text":"Technology","c":"42","count":"45"},{"text":"Asia","c":"30","count":"33"},{"text":"Australia","c":"27","count":"30"},{"text":"North America","c":"35","count":"38"},{"text":"New York Times","c":"46","count":"49"},{"text":"The Guardian","c":"48","count":"51"},{"text":"Opinion","c":"39","count":"42"},{"text":"Regional Tourism","c":"21","count":"24"},{"text":"Science","c":"17","count":"20"},{"text":"Travel","c":"21","count":"24"},{"text":"New York Times","c":"55","count":"58"},{"text":"Government","c":"23","count":"26"},{"text":"Innovation","c":"38","count":"41"},{"text":"Elections","c":"37","count":"40"},{"text":"New York Times","c":"80","count":"83"},{"text":"North America","c":"26","count":"29"},{"text":"Psychology & Psychotherapy","c":"22","count":"25"},{"text":"The Guardian","c":"50","count":"53"},{"text":"Donald Trump","c":"45","count":"48"},{"text":"Africa","c":"31","count":"34"},{"text":"Opinion","c":"37","count":"40"},{"text":"World","c":"39","count":"42"},{"text":"Brexit","c":"46","count":"49"},{"text":"Entertainment","c":"27","count":"30"},{"text":"Lifestyle","c":"16","count":"19"},{"text":"Multicultural Press","c":"20","count":"23"},{"text":"Entertainment","c":"43","count":"46"},{"text":"Sports","c":"41","count":"44"},{"text":"Obituaries","c":"45","count":"48"},{"text":"New York Times","c":"86","count":"89"},{"text":"Covid-19","c":"55","count":"58"},{"text":"Asia","c":"22","count":"25"},{"text":"Donald Trump","c":"54","count":"57"},{"text":"Covid-19","c":"54","count":"57"},{"text":"Vaccine","c":"48","count":"51"},{"text":"Entertainment","c":"34","count":"37"},{"text":"Health Informatics","c":"21","count":"24"},{"text":"Artificial Intelligence","c":"43","count":"46"},{"text":"International","c":"33","count":"36"},{"text":"Vaccine","c":"59","count":"62"},{"text":"The Guardian","c":"76","count":"79"},{"text":"Australia","c":"43","count":"46"},{"text":"Finance","c":"34","count":"37"},{"text":"Health","c":"42","count":"45"},{"text":"Arts","c":"39","count":"42"},{"text":"South America","c":"38","count":"41"},{"text":"Sports","c":"39","count":"42"},{"text":"Brexit","c":"58","count":"61"},{"text":"Fashion","c":"12","count":"15"},{"text":"Technology","c":"29","count":"32"},{"text":"South America","c":"16","count":"19"},{"text":"Religion","c":"34","count":"37"},{"text":"The Guardian","c":"73","count":"76"},{"text":"Culture","c":"21","count":"24"},{"text":"Health Informatics","c":"12","count":"15"},{"text":"Entertainment","c":"12","count":"15"},{"text":"Computer","c":"35","count":"38"},{"text":"International","c":"22","count":"25"},{"text":"Business","c":"31","count":"34"},{"text":"Elections","c":"43","count":"46"},{"text":"Foreign Affairs","c":"37","count":"40"},{"text":"Religion","c":"9","count":"12"},{"text":"Europe","c":"38","count":"41"},{"text":"Travel","c":"10","count":"13"},{"text":"Retail","c":"39","count":"42"},{"text":"Photography","c":"31","count":"34"},{"text":"Technology","c":"43","count":"46"},{"text":"Religion","c":"37","count":"40"},{"text":"Retail","c":"26","count":"29"},{"text":"Trade War","c":"9","count":"12"},{"text":"Artificial Intelligence","c":"11","count":"14"},{"text":"Innovation","c":"10","count":"13"},{"text":"Finance","c":"35","count":"38"},{"text":"Science","c":"35","count":"38"},{"text":"Obituaries","c":"19","count":"22"},{"text":"Health & Medicine","c":"37","count":"40"},{"text":"Family","c":"13","count":"16"},{"text":"Politics","c":"17","count":"20"},{"text":"Local","c":"16","count":"19"},{"text":"Europe","c":"10","count":"13"},{"text":"Foreign Affairs","c":"31","count":"34"},{"text":"Health & Medicine","c":"11","count":"14"},{"text":"Entrepreneurship","c":"6","count":"9"},{"text":"Multicultural Press","c":"16","count":"19"},{"text":"Politics","c":"44","count":"47"},{"text":"People","c":"10","count":"13"},{"text":"Government","c":"36","count":"39"},{"text":"People","c":"16","count":"19"},{"text":"Weather","c":"38","count":"41"},{"text":"Computer","c":"8","count":"11"},{"text":"Culture","c":"8","count":"11"},{"text":"Entrepreneurship","c":"10","count":"13"},{"text":"Culture","c":"39","count":"42"},{"text":"Politics","c":"12","count":"15"},{"text":"Cars","c":"31","count":"34"},{"text":"Health & Medicine","c":"17","count":"20"},{"text":"Lifestyle","c":"37","count":"40"},{"text":"Opinion","c":"13","count":"16"},{"text":"Kids & Teens","c":"9","count":"12"},{"text":"Recruitment","c":"14","count":"17"},{"text":"Sports","c":"25","count":"28"},{"text":"Donald Trump","c":"21","count":"24"},{"text":"Computer","c":"43","count":"46"},{"text":"South America","c":"10","count":"13"},{"text":"Travel","c":"34","count":"37"},{"text":"Local","c":"37","count":"40"},{"text":"Weather","c":"10","count":"13"},{"text":"Health & Medicine","c":"19","count":"22"},{"text":"International","c":"43","count":"46"},{"text":"Australia","c":"41","count":"44"},{"text":"Criminal","c":"39","count":"42"},{"text":"Arts","c":"38","count":"41"},{"text":"Equity","c":"6","count":"9"},{"text":"Research & Development","c":"6","count":"9"},{"text":"South America","c":"32","count":"35"},{"text":"Government","c":"39","count":"42"},{"text":"Criminal","c":"28","count":"31"},{"text":"Science","c":"17","count":"20"},{"text":"Diversity","c":"8","count":"11"},{"text":"Psychology & Psychotherapy","c":"6","count":"9"},{"text":"Aviation","c":"6","count":"9"},{"text":"Diversity","c":"6","count":"9"},{"text":"Careers","c":"6","count":"9"},{"text":"People","c":"10","count":"13"},{"text":"Trade War","c":"8","count":"11"},{"text":"Equity","c":"6","count":"9"},{"text":"Health & Medicine","c":"12","count":"15"},{"text":"Workplace Relations","c":"9","count":"12"},{"text":"Local","c":"12","count":"15"},{"text":"Photography","c":"9","count":"12"},{"text":"Security","c":"6","count":"9"},{"text":"Research & Development","c":"8","count":"11"},{"text":"Health","c":"10","count":"13"},{"text":"Criminal","c":"12","count":"15"},{"text":"Psychology & Psychotherapy","c":"7","count":"10"},{"text":"Recruitment","c":"9","count":"12"},{"text":"Security","c":"10","count":"13"},{"text":"Biotechnology","c":"6","count":"9"},{"text":"South America","c":"11","count":"14"},{"text":"Biotechnology","c":"7","count":"10"},{"text":"Books & Literature","c":"8","count":"11"},{"text":"Beauty & Cosmetics","c":"18","count":"21"},{"text":"Trade War","c":"7","count":"10"},{"text":"Engineering","c":"7","count":"10"},{"text":"Robotics & Automation","c":"7","count":"10"},{"text":"Entertainment","c":"8","count":"11"},{"text":"Stock Market","c":"12","count":"15"},{"text":"Elections","c":"9","count":"12"},{"text":"Diversity","c":"5","count":"8"},{"text":"Health Informatics","c":"9","count":"12"},{"text":"Careers","c":"17","count":"20"},{"text":"Technology","c":"8","count":"11"},{"text":"Statistics","c":"10","count":"13"},{"text":"Engineering","c":"6","count":"9"},{"text":"Stock Market","c":"13","count":"16"},{"text":"Radio","c":"13","count":"16"},{"text":"Travel","c":"9","count":"12"},{"text":"Foreign Affairs","c":"10","count":"13"},{"text":"Science","c":"9","count":"12"},{"text":"Beauty & Cosmetics","c":"9","count":"12"},{"text":"Aviation","c":"12","count":"15"},{"text":"Arts","c":"9","count":"12"},{"text":"Cars","c":"10","count":"13"},{"text":"Psychology & Psychotherapy","c":"16","count":"19"},{"text":"Entrepreneurship","c":"10","count":"13"},{"text":"Multicultural Press","c":"10","count":"13"},{"text":"Regional Tourism","c":"6","count":"9"},{"text":"People","c":"7","count":"10"},{"text":"Fashion","c":"6","count":"9"},{"text":"Sports","c":"12","count":"15"},{"text":"Lifestyle","c":"9","count":"12"},{"text":"Aviation","c":"9","count":"12"},{"text":"Olympics","c":"15","count":"18"},{"text":"Fashion","c":"10","count":"13"},{"text":"Breaking News","c":"7","count":"10"},{"text":"Kids & Teens","c":"10","count":"13"},{"text":"Agriculture","c":"6","count":"9"},{"text":"Statistics","c":"7","count":"10"},{"text":"Accounting","c":"10","count":"13"},{"text":"Radio","c":"9","count":"12"},{"text":"Accounting","c":"8","count":"11"},{"text":"Government","c":"12","count":"15"},{"text":"Asia","c":"9","count":"12"},{"text":"Performing Arts","c":"7","count":"10"},{"text":"Retail","c":"12","count":"15"},{"text":"Opinion","c":"10","count":"13"},{"text":"Workplace Relations","c":"9","count":"12"},{"text":"Beauty & Cosmetics","c":"8","count":"11"},{"text":"Olympics","c":"6","count":"9"},{"text":"Workplace Relations","c":"16","count":"19"},{"text":"Robotics & Automation","c":"6","count":"9"},{"text":"Careers","c":"9","count":"12"},{"text":"Breaking News","c":"9","count":"12"}
];

var colors = ["#393E46", "#FFD369"];
var fontStyles = ["", "italic", "bold"];


var bg = document.getElementById("background");
for (var i = 0; i < words.length; i++) {
	bg.appendChild(makeText(words[i].text, words[i].count));
}


function makeText(text, size) {
	var wordContainer = document.createElement("div");
	wordContainer.style.font = fontStyles[Math.floor(Math.random() * 3)] + " " + size + "px Playfair Display";
	
	if(Math.floor(Math.random() * 3) == 2){ //probability
		wordContainer.classList.add("gradient");
	}else {
		wordContainer.style.color = colors[0];
	}
	
	wordContainer.style.borderRadius = size/3 + "px";
	
	wordContainer.appendChild(document.createTextNode(text));
	
	wordContainer.addEventListener("click", function() {
		if(text == "New York Times") {
			clickSearch("nytimes.com");
		} else if (text == "The Guardian") {
			clickSearch("theguardian.com");
		} else {
			clickSearch(text)
		}
	}, false);
	
	return wordContainer;
}

function clickSearch(s){
	var searchBox = document.querySelectorAll('.ais-SearchBox-input')[0];
	searchBox.value = s;
	document.getElementById("right").classList.remove("hidden");
	bg.style.opacity = "0.2";
	bg.style.filter = "blur(5px)";
	index.search(s).then(({ hits }) => {
		var hitBoxes = document.getElementsByClassName("ais-Hits-item");
		for(var i = 0; i < hits.length; i++){
			const snippets = hits[i]._snippetResult.plain_text.filter((el1) => {
                    return el1.matchLevel === "full";
                })
			hitBoxes[i].innerHTML = `<div class="heading light">`+hits[i].title+`</div>`;
		}
	});
}

// BEHAVIOR WHEN SEARCHING ===================================================================
var intervalID;


	var results = document.querySelectorAll('.ais-SearchBox-input');
	for (result of results) {
		result.addEventListener("focusin", (e) => {setFocused(e)});
		result.addEventListener("focusout", (e) => {unsetFocused(e)});
	}



function setFocused(e) {
	var results = document.getElementById("right");
	var bg = document.getElementById("background");
	intervalID = setInterval(() => {
		if(e.target.value.length > 0){
			results.classList.remove("hidden");
		} else {
			results.classList.add("hidden");
		}
		console.log("firing");
	}, 30);
		
	bg.style.opacity = "0.2";
	bg.style.filter = "blur(5px)";
}

function unsetFocused(e) {
	var results = document.getElementById("right");
	var bg = document.getElementById("background");
	
	if(e.target.value.length <= 0){
		results.classList.add("hidden");
		bg.style.opacity = "1.0";
		bg.style.filter = "blur(0px)";
	}
	clearInterval(intervalID);
}

